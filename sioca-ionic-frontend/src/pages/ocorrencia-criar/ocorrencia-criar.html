<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Cadastrar Ocorrência</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="formGroup" (ngSubmit)="cadastrarOcorrencia(); $event.preventDefault()">

    <ion-item>
      <ion-label stacked>Número único*</ion-label>
      <ion-input formControlName="codigoOcorrencia" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>UF*</ion-label>
      <ion-select formControlName="ufId" (ionChange)="updateMunicipios()">
        <ion-option *ngFor="let uf of ufs; first as f" [value]="uf.id" [selected]="f">{{uf.sigla}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Municipio*</ion-label>
      <ion-select formControlName="municipioId">
          <ion-option *ngFor="let municipio of municipios" [value]="municipio.id">{{municipio.nome}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Trecho*</ion-label>
      <ion-select formControlName="trechoId" (ionChange)="updateLotes()">
        <ion-option value="1">FIOL 1</ion-option>
        <ion-option value="2">FIOL 2</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Lote*</ion-label>
      <ion-select formControlName="loteId">
        <ion-option value="1">LOTE 5A</ion-option>
        <ion-option value="2">LOTE 6</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>KM Inicial*</ion-label>
      <ion-input formControlName="kmInicial" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>KM Final*</ion-label>
      <ion-input formControlName="kmFinal" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Data de Registro*</ion-label>
      <ion-input formControlName="dataRegistro" type="text"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label stacked>Localização</ion-label>
      <ion-select formControlName="localizacaoId">
        <ion-option value="">Selecionar</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Tipo*</ion-label>
      <ion-select formControlName="tipoOcorrenciaId">
        <ion-option value="">Selecionar</ion-option>
        <ion-option value="">Faixa de Domínio</ion-option>
        <ion-option value="">Contaminação e Poluição</ion-option>
        <ion-option value="">Sistema de Drenagem</ion-option>
        <ion-option value="">Licenças/Outorgas</ion-option>
        <ion-option value="">Saúde e Segurança no Trabalho</ion-option>
        <ion-option value="">Áreas Degradadas</ion-option>
        <ion-option value="">Supressão Vegetal</ion-option>
        <ion-option value="">Impactos à Fauna Silvestre</ion-option>
        <ion-option value="">Plantios e Revestimento Vegetal</ion-option>
        <ion-option value="">Desmobilização</ion-option>
        <ion-option value="">Erosão/Assoreamento</ion-option>
        <ion-option value="">Danos ao Patrimônio Espeleológico</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Gravidade*</ion-label>
      <ion-select formControlName="gravidade">
        <ion-option value="">Selecionar</ion-option>
        <ion-option value="A">Alta</ion-option>
        <ion-option value="B">Média</ion-option>
        <ion-option value="C">Baixa</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Situação do Empreendimento*</ion-label>
      <ion-select formControlName="situacao">
        <ion-option value="">Selecionar</ion-option>
        <ion-option value="O">Em Operação</ion-option>
        <ion-option value="A">Obras em Andamento</ion-option>
        <ion-option value="P">Obras Paralisadas</ion-option>
        <ion-option value="C">Obras Concluídas</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>PBA*</ion-label>
      <ion-select formControlName="topicoPBAId">
        <ion-option value="">Programa XY</ion-option>
        <ion-option value="">Programa 2</ion-option>
        <ion-option value="">Programa 3</ion-option>
        <ion-option value="">Programa 4</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Lado*</ion-label>
      <ion-select formControlName="tipoLado">
        <ion-option value="">Selecionar</ion-option>
        <ion-option value="D">Lado Direito</ion-option>
        <ion-option value="E">Lado Esquerdo</ion-option>
        <ion-option value="A">Lado Direito e Esquerdo</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label stacked>Descrição*</ion-label>
      <ion-textarea formControlName="descricao" maxlength="1000" rows="4"></ion-textarea>
    </ion-item>

    <button ion-button block type="submit">Criar Ocorrência</button>
  </form>
</ion-content>